/*! WooCommerce Name Your Price 2.0.2 2014-04-25 16:32 */
!function(a){a.extend({moveNYPmetaFields:function(){a(".options_group.show_if_nyp").insertBefore(".options_group.pricing")},addClasstoRegularPrice:function(){a(".options_group.pricing").addClass("hide_if_nyp")},toggleRegularPriceClass:function(b){b?a(".options_group.pricing").removeClass("show_if_simple"):a(".options_group.pricing").addClass("show_if_simple")},showHideNYPelements:function(){var b=a("select#product-type").val(),c=a("#_nyp:checked").size();switch(a.toggleRegularPriceClass(c),b){case"subscription":a.showHideNYPprices(c,!0),a.enableDisableSubscriptionPrice(c);var d=a("#_variable_billing:checked").size();a.showHideNYPvariablePeriods(d),a.enableDisableSubscriptionPeriod(d);break;case"simple":case"bundle":case"bto":a.showHideNYPprices(c,!0),a.showHideNYPvariablePeriods(!1);break;case"variable":a.showHideNYPprices(!1),a.moveNYPvariationFields(),a.showHideNYPmetaforVariableProducts();break;case"variable-subscription":a.showHideNYPprices(!1),a.moveNYPvariationFields(),a.showHideNYPmetaforVariableSubscriptions();break;default:a.showHideNYPprices(!1)}},showHideNYPprices:function(b,c){c="undefined"!=typeof c?c:!1,b?(a(".show_if_nyp").show(),a(".hide_if_nyp").hide()):(a(".show_if_nyp").hide(),c&&a(".hide_if_nyp").show())},enableDisableSubscriptionPrice:function(b){b?a("#_subscription_price").prop("disabled",!0).css("background","#CCC"):a("#_subscription_price").prop("disabled",!1).css("background","#FFF")},showHideNYPvariablePeriods:function(b){$variable_periods=a("._suggested_billing_period_field, ._minimum_billing_period_field"),b?$variable_periods.show():$variable_periods.hide()},enableDisableSubscriptionPeriod:function(b){$subscription_period=a("#_subscription_period_interval, #_subscription_period"),b?$subscription_period.prop("disabled",!0).css("background","#CCC"):$subscription_period.prop("disabled",!1).css("background","#FFF")},addClasstoVariablePrice:function(){a(".woocommerce_variation .variable_pricing").addClass("hide_if_variable_nyp")},moveNYPvariationFields:function(){a("#variable_product_options tr.variable_nyp_pricing").not(".nyp_moved").each(function(){a(this).insertBefore(a(this).siblings("tr.variable_pricing")).addClass("nyp_moved")})},showHideNYPvariableMeta:function(){"variable-subscription"==a("#product-type").val()?a.showHideNYPmetaforVariableSubscriptions():a.showHideNYPmetaforVariableProducts()},showHideNYPmetaforVariableProducts:function(){a(".variation_is_nyp").each(function(){var b=a(this).closest(".woocommerce_variation").find(".variable_pricing"),c=a(this).closest(".woocommerce_variation").find(".variable_nyp_pricing");a(this).is(":checked")?(c.show(),b.hide()):(c.hide(),b.removeAttr("style"))})},showHideNYPmetaforVariableSubscriptions:function(){a(".variation_is_nyp").each(function(){var b=a(this).closest(".woocommerce_variation").find(".variable_pricing"),c=a(this).closest(".woocommerce_variation").find(".wc_input_subscription_price"),d=a(this).closest(".woocommerce_variation").find(".variable_nyp_pricing");a(this).is(":checked")?(d.show(),c.prop("disabled",!0).css("background","#CCC"),b.children().not(".show_if_variable-subscription").hide()):(d.hide(),c.prop("disabled",!1).css("background","#FFF"),b.children().not(".hide_if_variable-subscription").show())})}}),a(".options_group.pricing").length>0&&(a.moveNYPmetaFields(),a.addClasstoRegularPrice(),a.showHideNYPelements()),a("body").on("woocommerce-product-type-change",function(){a.showHideNYPelements()}),a("input#_nyp").on("change",function(){a.showHideNYPelements()}),a("#_variable_billing").on("change",function(){a.showHideNYPvariablePeriods(this.checked),a.enableDisableSubscriptionPeriod(this.checked)}),a("#variable_product_options .woocommerce_variation").length>0&&(a.addClasstoVariablePrice(),a.moveNYPvariationFields(),a.showHideNYPvariableMeta()),a("#variable_product_options").on("woocommerce_variations_added",function(){a.addClasstoVariablePrice(),a.moveNYPvariationFields(),a.showHideNYPvariableMeta()}),a("#variable_product_options").on("change",".variation_is_nyp",function(){a.showHideNYPvariableMeta()}),a("select#field_to_edit").on("woocommerce_variable_bulk_nyp_toggle",function(){a.showHideNYPvariableMeta()}),a("select#field_to_edit").on("toggle_nyp",function(){var b=a('input[name^="variation_is_nyp"]');b.attr("checked",!b.attr("checked")),a("select#field_to_edit").trigger("woocommerce_variable_bulk_nyp_toggle")}),a("select#field_to_edit").on("variable_suggested_price",function(){var b=a("select#field_to_edit :selected").attr("rel")?a("select#field_to_edit :selected").attr("rel"):"input",c=prompt(woocommerce_nyp_metabox.enter_value);a(b+'[name^="'+field_to_edit+'["]').val(c).change()}),a("select#field_to_edit").on("variable_suggested_price_increase",function(){field_to_edit="variable_suggested_price";var b=a("select#field_to_edit :selected").attr("rel")?a("select#field_to_edit :selected").attr("rel"):"input",c=prompt(woocommerce_nyp_metabox.price_adjust);a(b+'[name^="'+field_to_edit+'"]').each(function(){var b=a(this).val();if(c.indexOf("%")>=0)var d=Number(b)+Number(b)/100*Number(c.replace(/\%/,""));else var d=Number(b)+Number(c);a(this).val(d).change()})}),a("select#field_to_edit").on("variable_suggested_price_decrease",function(){field_to_edit="variable_suggested_price";var b=a("select#field_to_edit :selected").attr("rel")?a("select#field_to_edit :selected").attr("rel"):"input",c=prompt(woocommerce_nyp_metabox.price_adjust);a(b+'[name^="'+field_to_edit+'"]').each(function(){var b=a(this).val();if(c.indexOf("%")>=0)var d=Number(b)-Number(b)/100*Number(c.replace(/\%/,""));else var d=Number(b)-Number(c);a(this).val(d).change()})}),a("select#field_to_edit").on("variable_minimum_price",function(){var b=a("select#field_to_edit :selected").attr("rel")?a("select#field_to_edit :selected").attr("rel"):"input",c=prompt(woocommerce_nyp_metabox.enter_value);a(b+'[name^="'+field_to_edit+'["]').val(c).change()}),a("select#field_to_edit").on("variable_minimum_price_increase",function(){field_to_edit="variable_minimum_price";var b=a("select#field_to_edit :selected").attr("rel")?a("select#field_to_edit :selected").attr("rel"):"input",c=prompt(woocommerce_nyp_metabox.price_adjust);a(b+'[name^="'+field_to_edit+'"]').each(function(){var b=a(this).val();if(c.indexOf("%")>=0)var d=Number(b)+Number(b)/100*Number(c.replace(/\%/,""));else var d=Number(b)+Number(c);a(this).val(d).change()})}),a("select#field_to_edit").on("variable_minimum_price_decrease",function(){field_to_edit="variable_minimum_price";var b=a("select#field_to_edit :selected").attr("rel")?a("select#field_to_edit :selected").attr("rel"):"input",c=prompt(woocommerce_nyp_metabox.price_adjust);a(b+'[name^="'+field_to_edit+'"]').each(function(){var b=a(this).val();if(c.indexOf("%")>=0)var d=Number(b)-Number(b)/100*Number(c.replace(/\%/,""));else var d=Number(b)-Number(c);a(this).val(d).change()})})}(jQuery);